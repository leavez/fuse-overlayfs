fuse-overlayfs
===========

An macOS implementation of overlay+shiftfs in FUSE.

A port of [containers/fuse-overlay](https://github.com/containers/fuse-overlayfs) to macOS

Usage
=======================================================

```
$ fuse-overlayfs -o lowerdir=lowerdir/a:lowerdir/b,upperdir=up,workdir=workdir merged
```

Specify a different UID/GID mapping:

```
$ fuse-overlayfs -o uidmapping=0:10:100:100:10000:2000,gidmapping=0:10:100:100:10000:2000,lowerdir=lowerdir/a:lowerdir/b,upperdir=up,workdir=workdir merged
```

### Requirement

Install [macFUSE](https://osxfuse.github.io) >= 4.5 for macOS as a pre-requirement.

macOS version?

Build
=======================================================

1. Install [macFUSE](https://osxfuse.github.io), which will install libfuse in `/usr/local`.

2. install CMake by `brew install cmake`

3. In the project root, `cmake -B build`

4. `cd build; make`

For development, a xcode project could be generated by ` cmake -G Xcode -B build` and `open build/fuse-overlayfs.xcodeproj`.

A `clang-format` config file is provided for automatically code format. Install clang-format by `brew install clang-format`. For VSCode users, clang-format will be involved automatically when using the native formating.


License
=====================================================
GPL
